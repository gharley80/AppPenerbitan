{% extends 'base.html' %}

{% block title %}Log Aktivitas Sistem{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="mb-6">
        <h2 class="text-3xl font-bold text-slate-800">ðŸ“œ Log Aktivitas</h2>
        <p class="text-gray-500">Rekaman jejak digital 100 aktivitas terakhir.</p>
    </div>

    <div class="bg-white rounded-xl shadow border border-gray-200 overflow-hidden">
        <ul class="divide-y divide-gray-100">
            {% for log in logs %}
            <li class="p-4 hover:bg-gray-50 transition flex items-start gap-4">
                
                <div class="text-right w-24 flex-shrink-0 pt-1">
                    <span class="block text-xs font-bold text-gray-500">{{ log.waktu|date:"d M" }}</span>
                    <span class="block text-xs text-gray-400 font-mono">{{ log.waktu|date:"H:i" }}</span>
                </div>

                <div class="flex-shrink-0">
                    {% if log.user.profile.foto_profil %}
                        <img src="{{ log.user.profile.foto_profil.url }}" class="w-10 h-10 rounded-full object-cover border border-gray-200">
                    {% else %}
                        <div class="w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center font-bold text-slate-600 text-xs">
                            {{ log.user.username|slice:":1"|upper }}
                        </div>
                    {% endif %}
                </div>

                <div class="flex-1">
                    <p class="text-sm text-gray-800">
                        <span class="font-bold text-blue-600">{{ log.user.profile.nama_tampilan|default:log.user.username }}</span>
                        {{ log.aktivitas }}
                    </p>
                    <p class="text-[10px] text-gray-400 mt-1 uppercase tracking-wider">
                        {{ log.user.groups.all.0.name|default:"ADMIN" }}
                    </p>
                </div>
            </li>
            {% empty %}
            <li class="p-8 text-center text-gray-400 italic">Belum ada aktivitas terekam.</li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}